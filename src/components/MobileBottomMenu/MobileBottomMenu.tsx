import { useEffect, useState } from 'react';
import { useSelector } from 'react-redux';
import { Link } from 'react-router-dom';
import Login from '../Login';
import { RootState } from '../redux/store';

const MobileBottomMenu = () => {
  const cart = useSelector((state: RootState) => state.counter.count);
  const auth = useSelector((state: RootState) => state.auth.auth);
  const [registr, setRegistr] = useState(false);
  useEffect(() => {
    registr ? (document.body.style.overflow = 'hidden') : (document.body.style.overflow = 'unset');
  }, [registr]);
  return (
    <div className="MobileMenuBottom">
      <div className="MobileMenuBottom_item">
        <span>Меню</span>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="12"
          viewBox="0 0 20 12"
          fill="none">
          <path d="M1.14044 1.3432H18.5223" stroke="#3C3C3C" stroke-linecap="round"></path>
          <path d="M1.14044 5.98428H18.5223" stroke="#3C3C3C" stroke-linecap="round"></path>
          <path d="M1.14044 10.6253H18.5223" stroke="#3C3C3C" stroke-linecap="round"></path>
        </svg>
      </div>
      {auth ? (
        <Link to="/profile">
          <div className="MobileMenuBottom_item">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="19"
              height="19"
              viewBox="0 0 19 19"
              fill="none">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M1.33489 5.82965C2.70804 2.51442 5.94301 0.352862 9.53137 0.352862C11.8855 0.346478 14.1445 1.28218 15.8046 2.95142C18.0536 5.1911 18.9347 8.46164 18.1155 11.528C17.296 14.5943 14.901 16.9895 11.8346 17.8088C8.76819 18.6282 5.49765 17.747 3.25797 15.4981C0.720666 12.9606 -0.0382598 9.14472 1.33489 5.82965ZM4.73554 14.9723V15.7401C7.58656 17.8443 11.4762 17.8443 14.3272 15.7401V14.9723C14.3272 12.3238 12.1801 10.1765 9.53137 10.1765C6.88266 10.1765 4.73554 12.3238 4.73554 14.9723ZM15.1054 15.0875V14.9723C15.1054 11.8989 12.6049 9.39841 9.53137 9.39841C6.45782 9.39841 3.95731 11.8989 3.95731 14.9723V15.0877C2.3478 13.5624 1.43658 11.4422 1.43779 9.22467C1.43779 4.76186 5.06856 1.13109 9.53137 1.13109C13.9942 1.13109 17.625 4.76186 17.625 9.22467C17.626 11.4421 16.715 13.5623 15.1054 15.0875ZM6.5408 5.97391C6.5408 4.31257 7.88765 2.96572 9.54899 2.96572C11.2096 2.9677 12.5552 4.31333 12.5572 5.97391C12.5572 7.63525 11.2103 8.9821 9.54899 8.9821C7.88765 8.9821 6.5408 7.63525 6.5408 5.97391ZM7.31903 5.97391C7.31903 7.2054 8.3175 8.20387 9.54899 8.20387C10.78 8.2025 11.7776 7.20494 11.779 5.97391C11.779 4.74227 10.7806 3.74395 9.54899 3.74395C8.3175 3.74395 7.31903 4.74227 7.31903 5.97391Z"
                fill="#3C3C3C"></path>
            </svg>
            <span>Профиль</span>
          </div>
        </Link>
      ) : (
        <div className="MobileMenuBottom_item" onClick={() => setRegistr(true)}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="19"
            viewBox="0 0 19 19"
            fill="none">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M1.33489 5.82965C2.70804 2.51442 5.94301 0.352862 9.53137 0.352862C11.8855 0.346478 14.1445 1.28218 15.8046 2.95142C18.0536 5.1911 18.9347 8.46164 18.1155 11.528C17.296 14.5943 14.901 16.9895 11.8346 17.8088C8.76819 18.6282 5.49765 17.747 3.25797 15.4981C0.720666 12.9606 -0.0382598 9.14472 1.33489 5.82965ZM4.73554 14.9723V15.7401C7.58656 17.8443 11.4762 17.8443 14.3272 15.7401V14.9723C14.3272 12.3238 12.1801 10.1765 9.53137 10.1765C6.88266 10.1765 4.73554 12.3238 4.73554 14.9723ZM15.1054 15.0875V14.9723C15.1054 11.8989 12.6049 9.39841 9.53137 9.39841C6.45782 9.39841 3.95731 11.8989 3.95731 14.9723V15.0877C2.3478 13.5624 1.43658 11.4422 1.43779 9.22467C1.43779 4.76186 5.06856 1.13109 9.53137 1.13109C13.9942 1.13109 17.625 4.76186 17.625 9.22467C17.626 11.4421 16.715 13.5623 15.1054 15.0875ZM6.5408 5.97391C6.5408 4.31257 7.88765 2.96572 9.54899 2.96572C11.2096 2.9677 12.5552 4.31333 12.5572 5.97391C12.5572 7.63525 11.2103 8.9821 9.54899 8.9821C7.88765 8.9821 6.5408 7.63525 6.5408 5.97391ZM7.31903 5.97391C7.31903 7.2054 8.3175 8.20387 9.54899 8.20387C10.78 8.2025 11.7776 7.20494 11.779 5.97391C11.779 4.74227 10.7806 3.74395 9.54899 3.74395C8.3175 3.74395 7.31903 4.74227 7.31903 5.97391Z"
              fill="#3C3C3C"></path>
          </svg>
          <span>Профиль</span>
        </div>
      )}
      <Link to="/cart">
        <div className="MobileMenuBottom_item">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="16"
            viewBox="0 0 18 16"
            fill="none">
            <path
              d="M17.62 5.23177C17.384 4.93575 17.0301 4.76592 16.6487 4.76592H13.2074L11.3413 0.492981C11.2257 0.228053 10.9171 0.106984 10.6521 0.222748C10.3871 0.338442 10.2661 0.647065 10.3819 0.912028L12.0649 4.76596H5.83671L7.51977 0.912028C7.63547 0.647065 7.5145 0.338477 7.24954 0.222748C6.98461 0.106984 6.67599 0.227983 6.56029 0.492981L4.69421 4.76596H1.25291C0.87159 4.76596 0.517597 4.93575 0.281636 5.2318C0.0500034 5.52245 -0.0354672 5.8961 0.0471416 6.25703L1.88488 14.2841C2.01321 14.8446 2.50904 15.236 3.09065 15.236H14.811C15.3926 15.236 15.8884 14.8446 16.0168 14.2841L17.8545 6.257C17.9371 5.89606 17.8516 5.52242 17.62 5.23177ZM14.811 14.189H3.09065C3.00176 14.189 2.9239 14.1307 2.90551 14.0504L1.06776 6.02338C1.05335 5.96038 1.07754 5.91299 1.10043 5.88434C1.12165 5.85767 1.16971 5.81296 1.25291 5.81296H4.23698L4.09986 6.12696C3.98417 6.39192 4.10513 6.70051 4.37009 6.81624C4.43829 6.84605 4.50935 6.86015 4.57932 6.86015C4.78111 6.86015 4.97341 6.74278 5.05934 6.54604L5.37948 5.81303H12.5222L12.8424 6.54604C12.9283 6.74281 13.1206 6.86015 13.3224 6.86015C13.3923 6.86015 13.4634 6.84605 13.5316 6.81624C13.7966 6.70055 13.9176 6.39192 13.8018 6.12696L13.6647 5.81296H16.6488C16.732 5.81296 16.7801 5.85767 16.8013 5.88434C16.8241 5.91302 16.8484 5.96042 16.8339 6.02334L14.9962 14.0504C14.9778 14.1307 14.8999 14.189 14.811 14.189Z"
              fill="#3C3C3C"></path>
            <path
              d="M5.80988 8.08136C5.52077 8.08136 5.28638 8.31575 5.28638 8.60486V12.4439C5.28638 12.733 5.52077 12.9674 5.80988 12.9674C6.09899 12.9674 6.33338 12.733 6.33338 12.4439V8.60486C6.33338 8.31575 6.09903 8.08136 5.80988 8.08136Z"
              fill="#3C3C3C"></path>
            <path
              d="M8.95087 8.08136C8.66176 8.08136 8.42737 8.31575 8.42737 8.60486V12.4439C8.42737 12.733 8.66176 12.9674 8.95087 12.9674C9.23999 12.9674 9.47438 12.733 9.47438 12.4439V8.60486C9.47438 8.31575 9.23999 8.08136 8.95087 8.08136Z"
              fill="#3C3C3C"></path>
            <path
              d="M12.092 8.08136C11.8029 8.08136 11.5685 8.31575 11.5685 8.60486V12.4439C11.5685 12.733 11.8029 12.9674 12.092 12.9674C12.3811 12.9674 12.6155 12.733 12.6155 12.4439V8.60486C12.6155 8.31575 12.3811 8.08136 12.092 8.08136Z"
              fill="#3C3C3C"></path>
          </svg>
          <span>Корзина</span>
          {cart > 0 ? (
            <div className="MobileMenuBottom_cart-count">{cart > 0 ? cart : ''}</div>
          ) : (
            ''
          )}
        </div>
      </Link>
      {registr && <Login close={() => setRegistr(false)} />}
    </div>
  );
};

export default MobileBottomMenu;
